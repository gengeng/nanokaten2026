# 完成しないゲーム（The Unfinished Game）

iPad展示用Webサイト

## 概要

完成したゲームが会期中にルール更新によって失効・変質し続ける展示作品。
ルールを読めば遊べるが、その結果が正しかったかどうかは最後まで確定しない。

## 技術要件

- iPad Safari での全画面表示（ガイド付きアクセス使用）
- オフライン対応不要（SIM通信前提）
- ルールデータは外部JSON（サーバー側で更新）
- タッチ操作：スクロールのみ許可
- **iPad SafariではGAS（Google Apps Script）が動作しない**（検証済み）

## 画面構成

2カラムレイアウト：
- **左カラム（固定）**：タイトル、準備、手番、勝利条件、メタ情報（ルール総数・日時）
- **右カラム（スクロール）**：ルールログ（#番号付き、タイプライター表示）

デザインは別途Figmaで定義済み。

## タイプライター表示仕様

### 基本動作
- テキストは1文字ずつ末尾に追加
- 末尾に擬似キャレット（縦長矩形、黒）を常駐
- 文字が出るたびにキャレットが右へ進む

### 思考状態（章タイトル出力完了時）
- キャレットが縦矩形 → 正円に変形
- 呼吸するような拡縮アニメーション（scale + opacity）をループ
- 約1秒間、文字生成を停止
- その後、通常状態に戻って続行

### 速度制御
- スライダー（1–100）で可変
- 人間の知覚に合わせた非線形変換
- 再生中でも即時反映

### スクロール挙動
- **最下部にいるとき**：自動で最新行に追従
- **上にスクロールしたとき**：自動スクロール停止、生成は裏で継続
- **「最新に戻る」ボタン**：最下部から離れているときのみ表示、押すと即座にジャンプ＆自動スクロール再開

## デザイン方針

- 背景：白、テキスト：黒、キャレット：黒
- 印刷物／法文書的な印象
- 読みやすいが「快適すぎない」
- UIで説明しない、振る舞いで意味を伝える

## データ構造（想定）

```json
{
  "title": "完成しないゲーム",
  "setup": ["..."],
  "turn": ["..."],
  "victory": "...",
  "rules": [
    { "id": 1, "text": "...", "type": "rule" },
    { "id": 2, "text": "第一章　...", "type": "chapter" },
    ...
  ]
}
```

## 表示しないもの

- 生成中表示
- FAQ
- 親切なまとめ・要約
- 操作説明の多用

## TODO

- [ ] iPadからスプレッドシートに現在のルール番号を送信する機能（Google Sheets API直接書き込み）
